package com.zh.raback.util;


import com.alibaba.fastjson.JSON;

import java.io.FileNotFoundException;
import java.io.FileOutputStream;
import java.io.IOException;
import java.util.Base64;

public class FileUtil {

    public static void saveFile(String title,String imageInBase64) throws IOException {


            int startOfBase64Data = imageInBase64.indexOf(",") + 1;
            imageInBase64 = imageInBase64.substring(startOfBase64Data,
                imageInBase64.length());
            //This will decode the String which is encoded by using Base64 class
            byte[] imageByte= Base64.getDecoder().decode(imageInBase64);

            String file= title;

            new FileOutputStream(file).write(imageByte);

    }

    public static final String img = "{\n" +
        "\t\"picture\": {\n" +
        "\t\t\"src\": \"data:image/png;base64,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\",\n" +
        "\t\t\"title\": \"1567442398.png\"\n" +
        "\t},\n" +
        "\t\"image\": \"https://marmelab.com/posters/city-6.jpeg\",\n" +
        "\t\"thumbnail\": \"https://marmelab.com/posters/city-6.jpeg\",\n" +
        "\t\"reference\": \"1213\",\n" +
        "\t\"price\": 1,\n" +
        "\t\"width\": 1,\n" +
        "\t\"height\": 1,\n" +
        "\t\"categoryId\": 5,\n" +
        "\t\"stock\": 1231,\n" +
        "\t\"description\": \"<p>123</p>\"\n" +
        "}";


    public static void main(String[] args) throws IOException {
        String src = JSON.parseObject(img).getJSONObject("picture").getString("src");
        String title = "1567442398.png";
        saveFile(title,src);
    }
}
